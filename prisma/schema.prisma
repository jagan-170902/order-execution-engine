generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

enum OrderStatus {
  pending
  routing
  building
  submitted
  confirmed
  failed
}

enum DexType {
  RAYDIUM
  METEORA
}

model Order {
  id            String      @id
  userId        String
  inputToken    String
  outputToken   String
  amount        Float
  slippage      Float?

  status        OrderStatus
  dex           DexType?
  price         Float?
  txHash        String?
  failureReason String?

  retryCount    Int         @default(0)

  createdAt     DateTime    @default(now())
  updatedAt     DateTime    @updatedAt
}
